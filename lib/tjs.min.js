/**
 * created by flfwzgl
 * github.com/flfwzgl/tjs
 */

;(function(a){if(typeof module==="object"&&module.exports){module.exports=a()}else{window.tjs=a()}})(function(){function b(d){return String(d).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/`/g,"&#96;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")}function c(d){return String(d).replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n")}return function a(r,e){r=r||"";e=e||{};var p=e.open||"<%",q=e.close||"%>",l=p.length,g=q.length,u=r.length,f=0;var d="[\\x20\\t]";var m="[+\\-*%^~!?&|:[=(;\\n,<>]";var x="(^|"+m+"|"+m+d+"*typeof"+d+"|"+d+"in"+d+"|"+d+"of"+d+"|"+d+"instanceof"+d+"|"+m+d+"*void"+d+")"+d+"*$";var h=new RegExp(x);var t=0,s=0,n="",y=false,o,v;while(s<=u){if(!y){if(r.indexOf(p,s)===s||s===u){if(t<s){n+='_res.push("'+c(r.substring(t,s))+'");\n'}f=t=s+=l;y=true;continue}}else{o=r.charAt(s);if(o==="\n"){f=s}if(r.substring(s,s+2)==="//"){s=r.indexOf("\n",s);s=~s?s+1:u;continue}if(r.substring(s,s+2)==="/*"){s=r.indexOf("*/",s+2);s=~s?s+2:u;continue}if(o==="/"&&h.test(r.substring(f,s))){while(~(s=r.indexOf("/",s+1))){if(r.charAt(s-1)!=="\\"){break}}s=~s?s+1:u;continue}if(o==="'"){while(~(s=r.indexOf("'",s+1))){if(r.charAt(s-1)!=="\\"){break}}s=~s?s+1:u;continue}if(o==='"'){while(~(s=r.indexOf('"',s+1))){if(r.charAt(s-1)!=="\\"){break}}s=~s?s+1:u;continue}if(o==="`"){while(~(s=r.indexOf("`",s+1))){if(r.charAt(s-1)!=="\\"){break}}s=~s?s+1:u;continue}if(r.indexOf(q,s)===s||s===u){o=r.charAt(t);if(o==="="||o==="-"){if(v=r.substring(t+1,s).trim()){n+=o==="="?"_res.push(_encodeHTML("+v+"));\n":"_res.push("+v+");\n"}}else{n+=r.substring(t,s)+"\n"}t=s+=g;y=false;continue}}s++}n=n?"var _res = [];\n"+"with (data || {}) {\n"+n+"}\n"+'return _res.join("");':'return "";';var k=new Function("data","_encodeHTML",n);var w=function(i){return k(i,b)};return w.body=n,w}});