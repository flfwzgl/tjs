/**
 * created by flfwzgl
 * github.com/flfwzgl/tjs
 */
;(function(a){if(typeof module==="object"&&module.exports){module.exports=a()}else{window.tjs=a()}})(function(){function b(d){return String(d).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/`/g,"&#96;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")}function c(d){return String(d).replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n")}return function a(t,e){t=t||"";e=e||{};var r=e.open||"<%",s=e.close||"%>",m=r.length,f=s.length,x=t.length;var d="[\\x20\\t]";var n="[=:,(+\\-*;!?&|[%<>^~]";var A="(^|"+n+"|"+n+"?"+d+"*typeof"+d+"|"+d+"in"+d+"|"+d+"instanceof"+d+"|"+d+"of"+d+"|"+n+"?"+d+"*delete"+d+"|"+n+"?"+d+"*void"+d+")"+d+"*$";var g=new RegExp(A);var w=0,v=0,u=0,p="",B=false,q,y,o=false,h=false;while(v<=x){if(!B){if(t.indexOf(r,v)===v||v===x){if(w<v){if(o){p+=', "'+c(t.substring(w,v))+'"'}else{p+='\n_res.push("'+c(t.substring(w,v))+'"';o=true}}u=w=v+=m;B=true;continue}}else{q=t.charAt(v);if(q==="\n"){u=++v;continue}if(t.substring(v,v+2)==="//"){v=t.indexOf("\n",v);u=v=~v?v+1:x;continue}if(t.substring(v,v+2)==="/*"){v=t.indexOf("*/",v+2);u=v=~v?v+2:x;continue}if(q==="/"&&g.test(t.substring(u,v))){h=true;while(~(v=t.indexOf("/",v+1))){if(t.charAt(v-1)!=="\\"){break}}v=~v?v+1:x;continue}if(q==="'"){while(~(v=t.indexOf("'",v+1))){if(t.charAt(v-1)!=="\\"){break}}u=v=~v?v+1:x;continue}if(q==='"'){while(~(v=t.indexOf('"',v+1))){if(t.charAt(v-1)!=="\\"){break}}u=v=~v?v+1:x;continue}if(q==="`"){while(~(v=t.indexOf("`",v+1))){if(t.charAt(v-1)!=="\\"){break}}u=v=~v?v+1:x;continue}if(t.indexOf(s,v)===v||v===x){q=t.charAt(w);if(q==="="||q==="-"){if(y=t.substring(w+1,v).trim()){if(o){p+=q==="="?", _encodeHTML("+y+")":", "+y}else{p+=q==="="?"\n_res.push(_encodeHTML("+y+")":"\n_res.push("+y;o=true}}}else{if(o){p+=")"}if(h){p+=";"}p+="\n"+t.substring(w,v);o=false}h=false;w=v+=f;B=false;continue}}v++}if(o){p+=")"}p=p?"var _res = [];\n"+"with (data || {}) {"+p+"\n}\n"+'return _res.join("");':'return "";';var l=new Function("data","_encodeHTML",p);var z=function(i){return l(i,b)};return z.body=p,z}});