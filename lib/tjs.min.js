/**
 * created by flfwzgl
 * github.com/flfwzgl/tjs
 */
;(function(a){if(typeof module==="object"&&module.exports){module.exports=a()}else{window.tjs=a()}})(function(){function b(d){return String(d).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/`/g,"&#96;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")}function c(d){return String(d).replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n")}return function a(s,e){s=s||"";e=e||{};var q=e.open||"<%",r=e.close||"%>",h=q.length,f=r.length,x=s.length;var d="[\\x20\\t]";var l="[=:,(+\\-*;!?&|[%<>^~]";var A="(?:"+"(?:"+l+"|^)(?:|"+d+"*typeof"+d+"|"+d+"*delete"+d+"|"+d+"*void"+d+")"+"|"+"(?:"+d+"in|"+d+"instanceof|"+d+"of)"+d+")"+d+"*$";var t=new RegExp(A);var w=0,v=0,u=0,n="",B=false,o,y,m=false,p=false;while(v<=x){if(!B){if(s.indexOf(q,v)===v||v===x){if(w<v){if(m){n+=', "'+c(s.substring(w,v))+'"'}else{n+='\n_res.push("'+c(s.substring(w,v))+'"';m=true}}u=w=v+=h;B=true;continue}}else{o=s.charAt(v);if(o==="\n"){u=++v;continue}if(s.substring(v,v+2)==="//"){v=s.indexOf("\n",v);u=v=~v?v+1:x;continue}if(s.substring(v,v+2)==="/*"){v=s.indexOf("*/",v+2);u=v=~v?v+2:x;continue}if(o==="/"&&t.test(s.substring(u,v))){p=true;while(~(v=s.indexOf("/",v+1))){if(s.charAt(v-1)!=="\\"){break}}v=~v?v+1:x;continue}if(o==="'"){while(~(v=s.indexOf("'",v+1))){if(s.charAt(v-1)!=="\\"){break}}u=v=~v?v+1:x;continue}if(o==='"'){while(~(v=s.indexOf('"',v+1))){if(s.charAt(v-1)!=="\\"){break}}u=v=~v?v+1:x;continue}if(o==="`"){p=true;while(~(v=s.indexOf("`",v+1))){if(s.charAt(v-1)!=="\\"){break}}u=v=~v?v+1:x;continue}if(s.indexOf(r,v)===v||v===x){o=s.charAt(w);if(o==="="||o==="-"){if(y=s.substring(w+1,v).trim()){if(m){n+=o==="="?", _encodeHTML("+y+")":", "+y}else{n+=o==="="?"\n_res.push(_encodeHTML("+y+")":"\n_res.push("+y;m=true}}}else{if(m){n+=")"}if(p){n+=";"}n+="\n"+s.substring(w,v);m=false}p=false;w=v+=f;B=false;continue}}v++}if(m){n+=")"}n=n?"var _res = [];\n"+"with (data || {}) {"+n+"\n}\n"+'return _res.join("");':'return "";';var g=new Function("data","_encodeHTML",n);var z=function(i){return g(i,b)};return z.body=n,z}});