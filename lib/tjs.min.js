/**
 * created by flfwzgl
 * github.com/flfwzgl/tjs
 */
;(function(a){if(typeof module==="object"&&module.exports){module.exports=a()}else{window.tjs=a()}})(function(){function b(d){return String(d).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/`/g,"&#96;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")}function c(d){return String(d).replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n")}return function a(r,e){r=r||"";e=e||{};var p=e.open||"<%",q=e.close||"%>",l=p.length,f=q.length,v=r.length;var d="[\\x20\\t]";var m="[=:,(+\\-*;!?&|[%<>^~]";var y="(^|"+m+"|"+m+"?"+d+"*typeof"+d+"|"+d+"in"+d+"|"+d+"instanceof"+d+"|"+d+"of"+d+"|"+m+"?"+d+"*delete"+d+"|"+m+"?"+d+"*void"+d+")"+d+"*$";var g=new RegExp(y);var u=0,t=0,s=0,n="",z=false,o,w;while(t<=v){if(!z){if(r.indexOf(p,t)===t||t===v){if(u<t){n+='\n_res.push("'+c(r.substring(u,t))+'")'}s=u=t+=l;z=true;continue}}else{o=r.charAt(t);if(o==="\n"){s=++t;continue}if(r.substring(t,t+2)==="//"){t=r.indexOf("\n",t);s=t=~t?t+1:v;continue}if(r.substring(t,t+2)==="/*"){t=r.indexOf("*/",t+2);s=t=~t?t+2:v;continue}if(o==="/"&&g.test(r.substring(s,t))){n+=";";while(~(t=r.indexOf("/",t+1))){if(r.charAt(t-1)!=="\\"){break}}t=~t?t+1:v;continue}if(o==="'"){while(~(t=r.indexOf("'",t+1))){if(r.charAt(t-1)!=="\\"){break}}s=t=~t?t+1:v;continue}if(o==='"'){while(~(t=r.indexOf('"',t+1))){if(r.charAt(t-1)!=="\\"){break}}s=t=~t?t+1:v;continue}if(o==="`"){while(~(t=r.indexOf("`",t+1))){if(r.charAt(t-1)!=="\\"){break}}s=t=~t?t+1:v;continue}if(r.indexOf(q,t)===t||t===v){o=r.charAt(u);if(o==="="||o==="-"){if(w=r.substring(u+1,t).trim()){n+=o==="="?"\n_res.push(_encodeHTML("+w+"))":"\n_res.push("+w+")"}}else{n+="\n"+r.substring(u,t)}u=t+=f;z=false;continue}}t++}n=n?"var _res = [];\n"+"with (data || {}) {"+n+"\n}\n"+'return _res.join("");':'return "";';var h=new Function("data","_encodeHTML",n);var x=function(i){return h(i,b)};return x.body=n,x}});