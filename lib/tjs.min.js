/**
 * created by flfwzgl
 * github.com/flfwzgl/tjs
 */

;(function(a){if(typeof module==="object"&&module.exports){module.exports=a()}else{window.tjs=a()}})(function(){function b(d){return String(d).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/`/g,"&#96;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")}function c(d){return String(d).replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n")}return function a(r,f){r=r||"";f=f||{};var n=f.open||"<%",u=f.close||"%>",s=n.length,g=u.length,p=r.length,h=0;var m=0,k=0,o="",t=false,d,l;while(k<=p){if(!t){if(r.indexOf(n,k)===k||k===p){if(m<k){o+='_res.push("'+c(r.substring(m,k))+'");\n'}h=m=k+=s;t=true;continue}}else{if(r.charAt(k)==="\n"){h=k}if(r.substring(k,k+2)==="//"){k=r.indexOf("\n",k);k=~k?k+1:p;continue}if(r.substring(k,k+2)==="/*"){k=r.indexOf("*/",k+2);k=~k?k+2:p;continue}if(r.charAt(k)==="/"){if(/(^|[+\-*%^~!?&|:[=(;\n,])\s*$/.test(r.substring(h,k))){while(~(k=r.indexOf("/",k+1))){if(r.charAt(k-1)!=="\\"){break}}k=~k?k+1:p;continue}}if(r.charAt(k)==="'"){while(~(k=r.indexOf("'",k+1))){if(r.charAt(k-1)!=="\\"){break}}k=~k?k+1:p;continue}if(r.charAt(k)==='"'){while(~(k=r.indexOf('"',k+1))){if(r.charAt(k-1)!=="\\"){break}}k=~k?k+1:p;continue}if(r.charAt(k)==="`"){while(~(k=r.indexOf("`",k+1))){if(r.charAt(k-1)!=="\\"){break}}k=~k?k+1:p;continue}if(r.indexOf(u,k)===k||k===p){d=r.charAt(m);if(d==="="||d==="-"){if(l=r.substring(m+1,k).trim()){o+=d==="="?"_res.push(_encodeHTML("+l+"));\n":"_res.push("+l+");\n"}}else{o+=r.substring(m,k)+"\n"}m=k+=g;t=false;continue}}k++}o=o?"var _res = [];\n"+"with (data || {}) {\n"+o+"}\n"+'return _res.join("");':'return "";';var q=new Function("data","_encodeHTML",o);var e=function(i){return q(i,b)};return e.body=o,e}});